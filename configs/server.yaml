# Portage Engine Server Configuration

port: 8080
binpkg_path: /var/cache/binpkgs
max_workers: 5

# Build mode: "remote" to use remote builders, "cloud" for IaC provisioning
build_mode: remote

# Remote builder configuration
builders:
  - url: "http://builder1.example.com:9090"
    enabled: true
  - url: "http://builder2.example.com:9090"
    enabled: true

# Storage configuration for binary packages
storage:
  type: "local"  # Options: local, s3, http
  local_dir: "/var/cache/binpkgs"

  # S3 configuration (when type: s3)
  # s3_bucket: "my-binpkgs"
  # s3_region: "us-east-1"
  # s3_prefix: "gentoo/"

  # HTTP configuration (when type: http)
  # http_base: "https://binpkgs.example.com"

# GPG signing configuration
gpg_enabled: false
gpg_key_id: ""
gpg_key_path: ""

cloud_config:
  default_provider: gcp

  # Aliyun configuration
  aliyun_region: cn-hangzhou
  aliyun_zone: cn-hangzhou-a

  # GCP configuration
  gcp_project: portage-engine
  gcp_region: us-central1
  gcp_zone: us-central1-a

  # AWS configuration
  aws_region: us-east-1
  aws_zone: us-east-1a
